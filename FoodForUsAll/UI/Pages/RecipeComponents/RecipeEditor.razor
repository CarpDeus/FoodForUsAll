@page "/RecipeEditor"
@inherits UI.Pages.RecipeEditorModel
@using Domain;

<div class="main">
@if (Recipe == null)
{
    <div></div>
}
else
{
<EditForm Model="Recipe">
<h3>
    <InputText style="width:60%" @bind-Value="@Recipe.Name" @onfocusout="(async () => await RecipeNameUpdated(Recipe.Id, Recipe.Name))" />
</h3>
<h6>
    <InputTextArea style="width:100%" @bind-Value="@Recipe.Description" @attributes="InputTextAreaAttributes" @onfocusout="(async () => await RecipeDescriptionUpdated(Recipe.Id, Recipe.Description))" />
</h6>
<hr />
<h4>Ingredients</h4>
    <CascadingValue Name="RecipeId" Value="@Recipe.Id">
        <CascadingValue Name="IsEditable" Value="true">
            <IngredientSectionsEditor />
        </CascadingValue>
    </CascadingValue>
<hr />
<h4>Instructions</h4>
    <CascadingValue Name="RecipeId" Value="@Recipe.Id">
        <CascadingValue Name="IsEditable" Value="true">
            <InstructionSectionsEditor />
        </CascadingValue>
    </CascadingValue>
</EditForm>
}
</div>
